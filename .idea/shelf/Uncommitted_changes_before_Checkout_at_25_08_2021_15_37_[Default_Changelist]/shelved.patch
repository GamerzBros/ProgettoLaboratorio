Index: src/cittadini/Cittadini.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package cittadini;\r\n\r\nimport centrivaccinali.CentriVaccinali;\r\nimport centrivaccinali.SingoloCentroVaccinale;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.text.Font;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.*;\r\nimport java.net.URL;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\nimport java.util.StringTokenizer;\r\nimport java.util.Vector;\r\n\r\n//TODO METTERE NOME COGNOME MATRICOLA SEDE\r\npublic class Cittadini implements EventHandler<ActionEvent> {\r\n    public static final String PATH_TO_CENTRIVACCINALI_DATI = \"data/CentriVaccinali.dati.txt\";\r\n    public static final String PATH_TO_EVENTI_AVVERSI=\"account.txt\"; //TODO Sistemare il path qui\r\n    public static final String PATH_TO_CENTRIVACCINALI=\"data/CentriVaccinali.dati.txt\";\r\n\r\n    private boolean isLogged=false;\r\n    private int currentCentreID;\r\n    private Vector<SingoloCentroVaccinale> centriVaccinaliList=new Vector<>();\r\n    @FXML\r\n    private ScrollPane scrollPane_CentriVaccinali;\r\n    @FXML\r\n    private TextField nome_ricerca_centro;\r\n\r\n\r\n    public void loadMainCittadiniUI() throws Exception {\r\n        FXMLLoader fxmlLoader=new FXMLLoader();\r\n        URL url=getClass().getResource(\"mainCittadini.fxml\");\r\n        fxmlLoader.setLocation(url);\r\n        Parent root=fxmlLoader.load();\r\n\r\n        Scene scene=new Scene(root);\r\n\r\n        Stage stage=new Stage();\r\n        stage.setScene(scene);\r\n        stage.setTitle(\"Portale Cittadini\");\r\n\r\n        scrollPane_CentriVaccinali=(ScrollPane) scene.lookup(\"#scrollPane_CentriVaccinali\");\r\n\r\n        centriVaccinaliList=Cittadini.getCentriVaccinaliFromFile();\r\n\r\n        creaVbox(centriVaccinaliList);\r\n\r\n        stage.show();\r\n    }\r\n\r\n\r\n\r\n    private void creaVbox(List<SingoloCentroVaccinale> centriVaccinaliMostrati){\r\n        VBox scrollPaneContent=new VBox();\r\n        scrollPaneContent.setMinWidth(scrollPane_CentriVaccinali.getPrefWidth()-2);\r\n\r\n        scrollPane_CentriVaccinali.setContent(scrollPaneContent);\r\n\r\n        for (int i=0;i<centriVaccinaliMostrati.size();i++){\r\n            Pane panel=new Pane();\r\n            panel.setMinHeight(30);\r\n            SingoloCentroVaccinale currentCentro=centriVaccinaliMostrati.get(i);\r\n\r\n            panel.setStyle(\"-fx-background-color: #FFFFFF\");\r\n            Label lblName=new Label(currentCentro.getNome());\r\n            Label lblAddress=new Label(currentCentro.getIndirizzo());\r\n            Label lblType=new Label(currentCentro.getTipologia());\r\n            Button btnGoTo=new Button(\">\");\r\n\r\n            lblName.setLayoutX(6);\r\n            lblName.setMinHeight(30);\r\n            lblName.setFont(new Font(\"Arial\",19));\r\n\r\n            lblAddress.setLayoutX(175);\r\n            lblAddress.setMinHeight(30);\r\n            lblAddress.setFont(new Font(\"Arial\",19));\r\n\r\n            lblType.setLayoutX(420);\r\n            lblType.setMinHeight(30);\r\n            lblType.setFont(new Font(\"Arial\",19));\r\n\r\n            btnGoTo.setLayoutX(520);\r\n            btnGoTo.setFont(new Font(\"Arial\",19));\r\n            btnGoTo.setStyle( \"-fx-background-radius: 5em;\" + \"-fx-min-width: 1px;\" + \"-fx-background-color: #FFFFFF;\" + \"-fx-border-radius: 5em;\" + \"-fx-border-color: #000000;\");\r\n            btnGoTo.setId(String.valueOf(i));\r\n            btnGoTo.setOnAction(this);\r\n\r\n\r\n            panel.getChildren().add(lblName);\r\n            panel.getChildren().add(lblAddress);\r\n            panel.getChildren().add(lblType);\r\n            panel.getChildren().add(btnGoTo);\r\n\r\n\r\n            scrollPaneContent.getChildren().add(panel);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void handle(ActionEvent actionEvent) {\r\n        Button source = (Button) actionEvent.getSource();\r\n        currentCentreID = Integer.parseInt(source.getId());\r\n\r\n        try {\r\n            loadVisualizzatoreCentroVaccinale(currentCentreID);\r\n        }\r\n        catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static Vector<SingoloCentroVaccinale> getCentriVaccinaliFromFile() {\r\n        Vector<SingoloCentroVaccinale> vector = new Vector<>();\r\n\r\n        try {\r\n            FileReader fileReader = new FileReader(CentriVaccinali.PATH_TO_CENTRIVACCINALI);\r\n            BufferedReader bufferedReader = new BufferedReader(fileReader);\r\n\r\n            String line = null;\r\n\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                StringTokenizer st = new StringTokenizer(line, \";\");\r\n                if (st.countTokens() == 8) {\r\n                    String nome = st.nextToken();\r\n                    String via = st.nextToken();\r\n                    String nome1 = st.nextToken();\r\n                    String num_civico = st.nextToken();\r\n                    String comune = st.nextToken();\r\n                    String provincia = st.nextToken();\r\n                    String cap = st.nextToken();\r\n                    String indirizzo = via+\" \"+\" \"+nome1+\" \"+num_civico+\" \"+comune+\" \"+provincia+\" \"+cap;\r\n                    String tipologia = st.nextToken();\r\n\r\n                    vector.add(new SingoloCentroVaccinale(nome, indirizzo, tipologia));\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return vector;\r\n\r\n    }\r\n\r\n    public void loadVisualizzatoreCentroVaccinale(int idCentro) throws IOException {\r\n        FXMLLoader loader=new FXMLLoader();\r\n        URL url=getClass().getResource(\"visualizzazioneCentroVaccinale.fxml\");\r\n        loader.setLocation(url);\r\n        Parent root=loader.load();\r\n\r\n        Scene newScene=new Scene(root);\r\n\r\n        Stage currentStage=(Stage)scrollPane_CentriVaccinali.getScene().getWindow();\r\n        currentStage.setScene(newScene);\r\n\r\n        Label lbl_centreName=(Label)newScene.lookup(\"#lbl_highlitedCentreName\");\r\n        Label lbl_centreAddress=(Label)newScene.lookup(\"#lbl_highlitedCentreAddress\");\r\n        Label lbl_centreType=(Label)newScene.lookup(\"#lbl_highlitedCentreType\");\r\n\r\n        loadCentreInfo(idCentro,lbl_centreName,lbl_centreAddress,lbl_centreType);\r\n\r\n        currentStage.show();\r\n    }\r\n\r\n    public void loadCentreInfo(int idCentro, Label lbl_centreName,Label lbl_centreAddress,Label lbl_centreType){\r\n        try {\r\n            FileReader fileReader=new FileReader(PATH_TO_CENTRIVACCINALI_DATI);\r\n            BufferedReader reader=new BufferedReader(fileReader);\r\n\r\n            String data=reader.readLine();\r\n            int i=0;\r\n            while(i!=idCentro) {\r\n                data=reader.readLine();\r\n                i++;\r\n            }\r\n\r\n            StringTokenizer stringTokenizer=new StringTokenizer(data,\";\");\r\n            String name=stringTokenizer.nextToken();\r\n            String address=stringTokenizer.nextToken();\r\n            String type=stringTokenizer.nextToken();\r\n\r\n\r\n            lbl_centreName.setText(name);\r\n            lbl_centreAddress.setText(address);\r\n            lbl_centreType.setText(type);\r\n\r\n\r\n            String events=leggiEventiAvversi(idCentro);\r\n\r\n            if(events!=null){\r\n                Scene currentScene=lbl_centreName.getScene();\r\n\r\n                Spinner spn_headache=(Spinner) currentScene.lookup(\"#spn_headache\");\r\n                Spinner spn_fever=(Spinner) currentScene.lookup(\"#spn_fever\");\r\n                Spinner spn_hurt=(Spinner) currentScene.lookup(\"#spn_hurt\");\r\n                Spinner spn_linf=(Spinner) currentScene.lookup(\"#spn_linf\");\r\n                Spinner spn_tac=(Spinner) currentScene.lookup(\"#spn_tac\");\r\n                Spinner spn_crs=(Spinner) currentScene.lookup(\"#spn_crs\");\r\n                TextField txt_other1=(TextField)currentScene.lookup(\"#txt_other1\");\r\n                Spinner spn_other1=(Spinner)currentScene.lookup(\"#spn_other1\");\r\n                TextField txt_other2=(TextField)currentScene.lookup(\"#txt_other2\");\r\n                Spinner spn_other2=(Spinner)currentScene.lookup(\"#spn_other2\");\r\n\r\n                StringTokenizer eventTokens=new StringTokenizer(events,\";\");\r\n\r\n\r\n                spn_headache.setPromptText(eventTokens.nextToken());//evento1 = Mal di testa\r\n                spn_fever.setPromptText(eventTokens.nextToken()); //evento2 = Febbre\r\n                spn_hurt.setPromptText(eventTokens.nextToken()); //evento3 = Dolori muscolari o articolari\r\n                spn_linf.setPromptText(eventTokens.nextToken()); //evento4 = Linfoadenopatia\r\n                spn_tac.setPromptText(eventTokens.nextToken()); //evento5 = Tachicardia\r\n                spn_crs.setPromptText(eventTokens.nextToken());//evento6 = Crisi ipertensiva\r\n                txt_other1.setText(eventTokens.nextToken());\r\n                spn_other1.setPromptText(eventTokens.nextToken());\r\n                txt_other2.setText(eventTokens.nextToken());\r\n                spn_other2.setPromptText(eventTokens.nextToken());\r\n            }\r\n\r\n        }\r\n        catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    public void checkLogin(){\r\n        if(isLogged){\r\n            loadRegistraEventiAvversiUI();\r\n        }\r\n        else{\r\n            loadLoginUI();\r\n        }\r\n    }\r\n\r\n    public void loadRegistraEventiAvversiUI(){\r\n        try {\r\n            FXMLLoader loader=new FXMLLoader();\r\n            URL url=getClass().getResource(\"registraEventiAvversi.fxml\");\r\n            loader.setLocation(url);\r\n            Parent root=loader.load();\r\n\r\n            Scene scene=new Scene(root);\r\n            Stage stage=new Stage();\r\n            stage.setScene(scene);\r\n\r\n            stage.show();\r\n        }\r\n        catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    public void registerEventiAvversi(ActionEvent actionEvent) throws Exception {\r\n        Scene currentScene=((Button)actionEvent.getSource()).getScene();\r\n\r\n        Spinner spn_headache=(Spinner) currentScene.lookup(\"#spn_headache\");\r\n        Spinner spn_fever=(Spinner) currentScene.lookup(\"#spn_fever\");\r\n        Spinner spn_hurt=(Spinner) currentScene.lookup(\"#spn_hurt\");\r\n        Spinner spn_linf=(Spinner) currentScene.lookup(\"#spn_linf\");\r\n        Spinner spn_tac=(Spinner) currentScene.lookup(\"#spn_tac\");\r\n        Spinner spn_crs=(Spinner) currentScene.lookup(\"#spn_crs\");\r\n        TextField txt_other1=(TextField)currentScene.lookup(\"#txt_other1\");\r\n        Spinner spn_other1=(Spinner)currentScene.lookup(\"#spn_other1\");\r\n        TextField txt_other2=(TextField)currentScene.lookup(\"#txt_other2\");\r\n        Spinner spn_other2=(Spinner)currentScene.lookup(\"#spn_other2\");\r\n\r\n\r\n        String evento1 = spn_headache.getPromptText();//evento1 = Mal di testa\r\n        String evento2 = spn_fever.getPromptText(); //evento2 = Febbre\r\n        String evento3 = spn_hurt.getPromptText(); //evento3 = Dolori muscolari o articolari\r\n        String evento4 = spn_linf.getPromptText(); //evento4 = Linfoadenopatia\r\n        String evento5 = spn_tac.getPromptText(); //evento5 = Tachicardia\r\n        String evento6 = spn_crs.getPromptText();//evento6 = Crisi ipertensiva\r\n        String otherEvent1=txt_other1.getText();\r\n        String otherEvent1Value=spn_other1.getPromptText();\r\n        String otherEvent2=txt_other2.getText();\r\n        String otherEvent2Value=spn_other2.getPromptText();\r\n\r\n        FileWriter writer = new FileWriter(PATH_TO_EVENTI_AVVERSI, true);\r\n        BufferedWriter out = new BufferedWriter(writer);\r\n        //String fileInput =  \"Mal di Testa:\" + evento1 + \";\" + \"Febbre:\" + evento2 + \";\" + \"Dolori muscolari o articolari:\" + evento3 + \";\" + \"Linfoadenopatia:\" + evento4 + \";\" + \"Tachicardia:\" + evento5 + \";\" + \"Crisi ipertensiva:\" + evento6 + \";\";\r\n        String fileInput =currentCentreID + \";\"+  evento1 + \";\" + evento2 + \";\" + evento3 + \";\" + evento4 + \";\" + evento5 + \";\" + evento6+\";\"+otherEvent1+\";\"+otherEvent1Value+\";\"+otherEvent2+\";\"+otherEvent2Value;\r\n        out.write(fileInput);\r\n        out.newLine();\r\n        out.flush();\r\n        out.close();\r\n\r\n        Stage stage=(Stage)spn_headache.getScene().getWindow();\r\n        stage.close();\r\n    }\r\n\r\n    \r\n    public String leggiEventiAvversi(int idCentro) throws Exception{\r\n        Vector<SingoloCentroVaccinale> centreList=getCentriVaccinaliFromFile();\r\n\r\n        SingoloCentroVaccinale centroVaccinale=centreList.get(idCentro);\r\n\r\n        try{\r\n            FileReader fileReader=new FileReader(PATH_TO_EVENTI_AVVERSI);\r\n            BufferedReader reader=new BufferedReader(fileReader);\r\n\r\n            int index=0;\r\n\r\n            String events=reader.readLine();\r\n\r\n            while (index!=idCentro){\r\n                events=reader.readLine();\r\n                index++;\r\n            }\r\n\r\n           return events;\r\n\r\n        }\r\n        catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return null;\r\n\r\n    }\r\n\r\n    public void loadLoginUI(){\r\n        try {\r\n            FXMLLoader loader = new FXMLLoader();\r\n            URL url = getClass().getResource(\"loginCittadino.fxml\");\r\n            loader.setLocation(url);\r\n            Parent root = loader.load();\r\n\r\n            Scene scene = new Scene(root);\r\n            Stage stage = new Stage();\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n        catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    //TODO Marsio:creare registrazione e login cittadino\r\n    public void registraCittadino(SingoloCittadino cittadino) {\r\n\r\n    }\r\n\r\n    public void loggaCittadini() {\r\n\r\n    }\r\n\r\n    //TODO: Marsio: implementare ricerca centro vaccinale\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/cittadini/Cittadini.java b/src/cittadini/Cittadini.java
--- a/src/cittadini/Cittadini.java	(revision 623397b85cd9649d61644c664ae21c38dc332c43)
+++ b/src/cittadini/Cittadini.java	(date 1629898636898)
@@ -359,5 +359,4 @@
     }
 
     //TODO: Marsio: implementare ricerca centro vaccinale
-
 }
\ No newline at end of file
